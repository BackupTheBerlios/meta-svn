|
	current merge
		. ["System.Windows.Forms"]
		. ["System.Drawing"]
		. mscorlib
	. console.create 0
	box with
		object RichTextBox 0
		data
			Font Font
				. "Courier New"
				. 10
			Dock DockStyle.Fill
			AcceptsTab 1
	file 0
	form with
		object Form 0
		data
			Text "Meta IDE"
			Size
				Width 480
				Height 550
			WindowState FormWindowState.Maximized
			Menu MainMenu
				. MenuItem
					. "&File"
					.
						. MenuItem
							. "&Open"
							.
								|
									dialog OpenFileDialog 0
									dialog.Filter "Meta files (*.meta)|*.meta"
									. if
										. equal
											. DialogResult.OK
											. dialog.ShowDialog 0
										then
											|
												$file dialog.FileName
												$box.Text File.ReadAllText file
						. MenuItem
							. "&Save"
							.
								|if
									. not equal
										. file
										. 0
									then
										|box.SaveFile file
						. MenuItem
							. "&Close"
							.
								|form.Close 0
				. MenuItem
					. "&Edit"
					.
						. MenuItem "&Copy"
	. box.KeyDown.add
		arg|if
			. equal
				. arg.[2].KeyCode
				. Keys.Enter
			then
				|
					. print "equal"
					$arg.[2].Handled 1
					$box.SelectedText "
						
							
					"
			else
				|
					. print "not equal"
					. print arg.[2].KeyCode
	. form.Controls.Add box
	. form.ShowDialog.[0] 0