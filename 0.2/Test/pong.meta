commandLine|,
	&=-
		mergeAll
		+
			<"System.Drawing"
			SdlDotNet
			-
				.
					SdlDotNet
					Video
					SetVideoModeWindow_Int32_Int32_Boolean
				800
				600
				1
	font=-
		.
			Font
			Font_String_Int32
		"C:\windows\fonts\Arial.ttf"
		16
	player=,
		pos|,
			downKey|,
				upKey|,
					&=-
						object
						+
							0
							0
						+
							10
							100
					score=0
					incrementScore=,
						|,
							!score=-
								add
								score
								1
					.
						hit
						1
						1
					=,
						|-
							setPos
							,
								2=0
					.
						hit
						2
						1
					=,
						|-
							setPos
							,
								2=-
									subtract
									Height
									.
										-
											getSize
										<2
					draw=,
						|+
							-
								DrawFilledBox_Rectangle_Color
								+
									pos
									-
										getSize
								.
									Color
									Red
							-
								Blit_Surface_Point
								-
									.
										font
										Render_String_Color
									-
										integerToString
										score
									.
										Color
										Black
								+
									.
										pos
										1
									0
					speed=5
					keys=,
						<!"downKey"=,
							|-
								changeVelocity
								,
									2=speed
						<!"upKey"=,
							|-
								changeVelocity
								,
									2=-
										minus
										speed
	object=,
		pos|,
			size|,
				x=,
					|.
						pos
						1
				y=,
					|.
						pos
						2
				getSize=,
					|size
				getPos=,
					|pos
				setPos=,
					newPos|,
						!pos=-
							merge
							pos
							newPos
				velocity=+
					0
					0
				changeVelocity=,
					s|,
						!velocity=-
							merge
							velocity
							s
				getVelocity=,
					|velocity
				halfSize=,
					|-
						divideArray
						size
						2
				hit=+
					+
						,
							|0
						,
							|0
					+
						,
							|0
						,
							|0
				p=,
					|+
						-
							subtractArray
						+
							subtract
							.
								pos
								1
							.
								-
									halfSize
								1
					top=,
						|-
							subtract
							.
								pos
								2
							.
								-
									halfSize
								2
					right=,
						|-
							add
							.
								pos
								1
							.
								-
									halfSize
								1
					bottom=,
						|-
							add
							.
								pos
								2
							.
								-
									halfSize
								2
				move=,
					|,
						!pos=-
							addArray
							pos
							velocity
						<1=-
							foreach
							,
								<,
									|-
										smaller
										-
											.
												p
												top
										0
								=.
									hit
									1
									2
								<,
									|-
										greater
										-
											.
												p
												bottom
										Height
								=.
									hit
									2
									2
								<,
									|-
										smaller
										-
											.
												p
												left
										.
											size
											1
								=.
									hit
									1
									1
								<,
									|-
										greater
										-
											.
												p
												right
										-
											subtract
											Width
											.
												size
												1
								=.
									hit
									2
									1
							,
								key|,
									value|-
										if
										-
											key
										,
											then=,
												|-
													value
				keys=0
	ball=,
		radius=20
		initialPosition=+
			200
			150
		pos|,
			&=-
				object
				0
				+
					radius
					radius
			reset=,
				|-
					setPos
					initialPosition
			draw=,
				|-
					DrawFilledCircle_Circle_Color
					+
						-
							getPos
						+
							radius
					.
						Color
						Red
			speed=-7
			reverse=,
				|-
					changeVelocity
					,
						2=-
							minus
							.
								-
									getVelocity
								<2
			1=-
				changeVelocity
				+
					speed
					5
			hitIt=,
				index|,
					|,
						object=.
							objects
							<index
						x=-
							if
							-
								and
								-
									smaller
									-
										.
											object
											p
											top
									-
										.
											p
											bottom
								-
									greater
									-
										.
											object
											p
											bottom
									-
										.
											p
											top
							,
								then=,
									|-
										changeVelocity
										+
											-
												minus
												.
													-
														getVelocity
													<1
								else=,
									|+
										-
											.
												objects
												-
													add
													1
													-
														modulo
														index
														2
												incrementScore
										-
											start
			hit=+
				+
					-
						hitIt
						1
					reverse
				+
					-
						hitIt
						2
					reverse
	start=,
		|-
			.
				objects
				3
				reset
	size=+
		10
		100		
	objects=+
		-
			player
			+
				0
				100
			.
				Key
				F
			.
				Key
				R
		-
			player
			+
				-
					subtract
					Width
					.
						size
						1
				100
			.
				Key
				DownArrow
			.
				Key
				UpArrow
		-
			ball
			.
				ball
				initialPosition
	.
		Events
		KeyboardDown
	=,
		sender|,
			e|-
				apply
				objects
				,
					object|-
						callIf
						.
							object
							keys
						.
							e
							Key
						,
							arg|-
								arg
	.
		Events
		Tick
	=,
		|,
			|+
				-
					.
						Video
						Screen
						Fill_Color
					.
						Color
						White
				-
					apply
					objects
					,
						obj|+
							-
								.
									obj
									move
							-
								.
									obj
									draw
				-
					Flip
	.
		Events
		Quit
	=,
		sender|,
			e|+
				-
					.
						Events
						Close
				-
					.
						Events
						QuitApplication
	x=-
		.
			Events
			Run