commandLine|,
	&=-
		merge
		<"System.Drawing"
		SdlDotNet
	screen=-
		.
			Video
			SetVideoModeWindow_Int32_Int32_Boolean
		800
		600
		1
	player=,
		font=-
			.
				Font
				Font_String_Int32
			"C:\windows\fonts\Arial.ttf"
			16
		pos|,
			down|,
				up|,
					&=-
						object
					score=0
					incrementScore=,
						|,
							!score=-
								add
								score
								1
					.
						hit
						top
					=,
						|-
							setPos
							+
								.
									-
										getPos
									<1
								0
					.
						hit
						bottom=,
						asdf|,
							hello=-
								setPos
								+
									.
										-
											getPos
										<1
									-
										subtract
										.
											screen
											Height
										.
											size
											<2
					.
						p
						bottom
					=,
						|-
							add
							.
								-
									getPos
								<2
							.
								size
								<2
					draw=,
						drawScore=,
							|-
								.
									screen
									Blit_Surface_Point
								-
									.
										font
										Render_String_Color
									-
										integerToString
										score
									.
										Color
										Black
								+
									.
										pos
										1
									0
						drawPaddle=,
							|-
								.
									screen
									DrawFilledBox_Rectangle_Color
								+
									pos
									size
								.
									Color
									Red
						|+
							-
								drawPaddle
							-
								drawScore
					speed=5
					keys=,
						<down=,
							|-
								setVelocity
								+
									0
									speed
						<up=,
							|-
								setVelocity
								+
									0
									-
										subtract
										0
										speed
	object=,
		pos|,
			x=,
				|.
					pos
					1
			y=,
				|.
					pos
					2
			getPos=,
				|pos
			setPos=,
				newPos|,
					!pos=newPos
			velocity=+
				0
				0
			setVelocity=,
				s|,
					!velocity=s
			getVelocity=,
				|velocity
			hit=,
				top=,
					|-
						.
							console
							writeLine
						"hit top"
				bottom=,
					|0
				left=,
					|0
				right=,
					|0
			p=,
				left=,
					|.
						pos
						1
				top=,
					|.
						pos
						2
				right=,
					|.
						pos
						1
				bottom=,
					|.
						pos
						2
			move=,
				|,
					!pos=+
						-
							add
							.
								pos
								<1
							.
								velocity
								<1
						-
							add
							.
								pos
								<2
							.
								velocity
								<2
					<1=-
						foreach
						,
							top=,
								|-
									smaller
									-
										.
											p
											top
									0
							bottom=,
								|-
									greater
									-
										.
											p
											bottom
									.
										screen
										Height
							left=,
								|-
									smaller
									-
										.
											p
											left
									.
										size
										1
							right=,
								|-
									greater
									-
										.
											p
											right
									-
										subtract
										.
											screen
											Width
										.
											size
											1
						,
							key|,
								value|-
									if
									-
										value
									,
										then=,
											|-
												.
													hit
													<key
							
			keys=0
	ball=,
		radius=20
		initialPosition=+
			200
			150
		pos|,
			&=-
				object
			reset=,
				|-
					setPos
					initialPosition
			p=,
				top=,
					|-
						subtract
						-
							y
						radius
				bottom=,
					|-
						add
						-
							y
						radius
				left=,
					|-
						subtract
						-
							x
						radius
				right=,
					|-
						add
						-
							x
						radius
			draw=,
				|-
					.
						screen
						DrawFilledCircle_Circle_Color
					+
						-
							getPos
						+
							radius
					.
						Color
						Red
			speed=-7
			reverse=,
				|-
					setVelocity
					+
						.
							-
								getVelocity
							<1
						-
							multiply
							.
								-
									getVelocity
								<2
							-1
			reverseY=,
				|-
					setVelocity
					+
						-
							multiply
							.
								-
									getVelocity
								<1
							-1
						.
							-
								getVelocity
							<2
			1=-
				setVelocity
				+
					speed
					5
			hitIt=,
				index|,
					player=.
						objects
						<index
					x=-
						if
						-
							and
							-
								smaller
								-
									.
										player
										p
										top
								-
									.
										p
										bottom
							-
								greater
								-
									.
										player
										p
										bottom
								-
									.
										p
										top
						,
							then=,
								|-
									reverseY
							else=,
								|+
									-
										.
											objects
											-
												add
												1
												-
													modulo
													index
													2
											incrementScore
									-
										start
			hit=,
				left=,
					|-
						hitIt
						1
				right=,
					|-
						hitIt
						2
				top=reverse
				bottom=reverse
	start=,
		|-
			.
				objects
				3
				reset
	size=+
		10
		100		
	objects=+
		-
			player
			+
				0
				100
			.
				Key
				F
			.
				Key
				R
		-
			player
			+
				-
					subtract
					.
						screen
						Width
					.
						size
						1
				100
			.
				Key
				DownArrow
			.
				Key
				UpArrow
		-
			ball
			.
				ball
				initialPosition
	.
		Events
		KeyboardDown
	=,
		sender|,
			e|-
				apply
				objects
				,
					object|-
						callIf
						.
							e
							Key
						.
							object
							keys
	.
		Events
		Tick
	=,
		|,
			|+
				-
					.
						Video
						Screen
						Fill_Color
					.
						Color
						White
				-
					apply
					objects
					,
						obj|+
							-
								.
									obj
									move
							-
								.
									obj
									draw
				-
					.
						screen
						Flip
	.
		Events
		Quit
	=,
		sender|,
			e|+
				-
					.
						Events
						Close
				-
					.
						Events
						QuitApplication
	x=-
		.
			Events
			Run