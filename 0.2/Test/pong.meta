commandLine|,
	&=-
		merge
		<"System.Drawing"
		SdlDotNet
	screen=-
		.
			Video
			SetVideoModeWindow_Int32_Int32_Boolean
		800
		600
		1
	font=-
		.
			Font
			Font_String_Int32
		"C:\windows\fonts\Arial.ttf"
		16
	player=,
		playerSize=+
			10
			100		
		pos|,
			downKey|,
				upKey|,
					&=-
						object
						pos
						playerSize
					score=0
					incrementScore=,
						|,
							!score=-
								add
								score
								1
					.
						hit
						top
					=,
						|-
							setPos
							,
								2=0
					.
						hit
						bottom=,
						|-
							setPos
							,
								2=-
									subtract
									.
										screen
										Height
									.
										playerSize
										<2
					draw=,
						|+
							-
								.
									screen
									DrawFilledBox_Rectangle_Color
								+
									pos
									playerSize
								.
									Color
									Red
							-
								.
									screen
									Blit_Surface_Point
								-
									.
										font
										Render_String_Color
									-
										integerToString
										score
									.
										Color
										Black
								+
									.
										pos
										1
									0
					speed=5
					keys=,
						<downKey=,
							|-
								changeVelocity
								,
									2=speed
						<upKey=,
							|-
								changeVelocity
								,
									2=-
										minus
										speed
	object=,
		pos|,
			size|,
				size=size
				x=,
					|.
						pos
						1
				y=,
					|.
						pos
						2
				getPos=,
					|pos
				setPos=,
					newPos|,
						!pos=-
							merge
							pos
							newPos
				velocity=+
					0
					0
				changeVelocity=,
					s|,
						!velocity=-
							merge
							velocity
							s
				getVelocity=,
					|velocity
				hit=,
					top=,
						|0
					bottom=,
						|0
					left=,
						|0
					right=,
						|0
				p=,
					left=,
						|.
							pos
							1
					top=,
						|.
							pos
							2
					right=,
						|-
							add
							.
								pos
								1
							.
								size
								1
					bottom=,
						|-
							add
							.
								pos
								2
							.
								size
								2
				move=,
					|,
						!pos=-
							addArray
							pos
							velocity
						<1=-
							foreach
							,
								top=,
									|-
										smaller
										-
											.
												p
												top
										0
								bottom=,
									|-
										greater
										-
											.
												p
												bottom
										.
											screen
											Height
								left=,
									|-
										smaller
										-
											.
												p
												left
										.
											player
											playerSize
											1
								right=,
									|-
										greater
										-
											.
												p
												right
										-
											subtract
											.
												screen
												Width
											.
												player
												playerSize
												1
							,
								key|,
									value|-
										if
										-
											value
										,
											then=,
												|-
													.
														hit
														<key
								
				keys=0
	ball=,
		radius=20
		initialPosition=+
			200
			150
		ballSize=+
			-
				multiply
				radius
				2
			<1
		pos|,
			&=-
				object
				initialPosition
				ballSize
			reset=,
				|-
					setPos
					initialPosition
			draw=,
				|-
					.
						screen
						DrawFilledCircle_Circle_Color
					+
						-
							addArray
							-
								getPos
							+
								radius
								radius
						+
							radius
					.
						Color
						Red
			speed=-7
			reverse=,
				|-
					changeVelocity
					,
						2=-
							minus
							.
								-
									getVelocity
								<2
			1=-
				changeVelocity
				+
					speed
					5
			hitIt=,
				index|,
					|,
						object=.
							objects
							<index
						x=-
							if
							-
								and
								-
									smaller
									-
										.
											object
											p
											top
									-
										.
											p
											bottom
								-
									greater
									-
										.
											object
											p
											bottom
									-
										.
											p
											top
							,
								then=,
									|-
										changeVelocity
										+
											-
												minus
												.
													-
														getVelocity
													<1
								else=,
									|+
										-
											.
												objects
												-
													add
													1
													-
														modulo
														index
														2
												incrementScore
										-
											start
			hit=,
				left=-
					hitIt
					1
				right=-
					hitIt
					2
				top=reverse
				bottom=reverse
	start=,
		|-
			.
				objects
				3
				reset
	objects=+
		-
			player
			+
				0
				100
			.
				Key
				F
			.
				Key
				R
		-
			player
			+
				-
					subtract
					.
						screen
						Width
					.
						player
						playerSize
						1
				100
			.
				Key
				DownArrow
			.
				Key
				UpArrow
		-
			ball
			.
				ball
				initialPosition
	.
		Events
		KeyboardDown
	=,
		sender|,
			e|-
				apply
				objects
				,
					object|-
						callIf
						.
							object
							keys
						.
							e
							Key
						,
							arg|-
								arg
	.
		Events
		Tick
	=,
		|,
			|+
				-
					.
						Video
						Screen
						Fill_Color
					.
						Color
						White
				-
					apply
					objects
					,
						obj|+
							-
								.
									obj
									move
							-
								.
									obj
									draw
				-
					.
						screen
						Flip
	.
		Events
		Quit
	=,
		sender|,
			e|+
				-
					.
						Events
						Close
				-
					.
						Events
						QuitApplication
	x=-
		.
			Events
			Run