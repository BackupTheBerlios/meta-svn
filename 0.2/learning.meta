|,
	&=-
		mergeAll
		+
			System
			mscorlib
			<"System.Windows.Forms"
	printNodes=,
		nodes|,
			data|-
				joinAll
				-
					apply
					data
					,
						entry|-
							joinAll
							-
								apply
								-
									enumerableToArray
									nodes
								,
									node|-
										.
											,
												0=,
													|0
												1=,
													|,
														value=.
															entry
															-
																.
																	node
																	get_Text
														&=-
															join
															-
																.
																	,
																		0=,
																			|0
																		1=,
																			|-
																				join
																				value
																				"<br>"
																	-
																		isString
																		value
															-	
																printNodes
																-
																	.
																		node
																		get_Nodes
																value
											-
												and
												-
													.
														node
														get_Checked
												-
													containedBy
													-
														.
															node
															get_Text
													entry
	data=0
	getNodes=,
		data|,
			merged=-
				mergeAll
				data
			&=-
				apply
				-
					keys
					merged
				,
					key|-
						TreeNode
						,
							Text=key
							Checked=1
							Nodes=-
								getNodes
								-
									joinAll
									-
										apply
										data
										,
											map|-
												.
													,
														0=,
															|0
														1=,
															|-
																.
																	,
																		1=,
																			|0
																		0=,
																			|.
																				map
																				<key
																	-
																		isString
																		.
																			map
																			<key
													-
														containedBy
														key
														map
	load=,
		file|,
			data:-
				.
					/
					Meta
					Parser
					Parse_String
				file
			asdf=-
				.
					-
						.
							tree
							get_Nodes
					AddRange_TreeNode[]
				-
					getNodes
					data
			asdf=-
				loadText
	loadText=,
		|-
			.
				browser
				set_DocumentText_String
			-
				printNodes
				-
					.
						tree
						get_Nodes
				data
	tree=-
		TreeView
		,
			AfterCheck=,
				|,
					e|-
						loadText
			Dock=.
				DockStyle
				Left
			CheckBoxes=1
	browser=-
		WebBrowser
		,
			Dock=.
				DockStyle
				Fill
	form=-
		Form
		,
			Text="Learning"
			Controls=+
				browser				
				-
					Splitter
					,
						Dock=.
							DockStyle
							Left
				tree
			Load=,
				|,
					|+
						-
							load
							"D:\Meta\0.2\relativity.learn"
			Menu=-
				<"MainMenu_MenuItem[]"
				+
					-
						MenuItem
						,
							Text="File"
							MenuItems=+
								-
									MenuItem
									,
										Text="Open..."
										Click=,
											|,
												|-
													.
														,
															&=-
																OpenFileDialog
															Filter="*.learn (Learning files)|*.learn"
															FileOk=,
																dialog|,
																	|-
																		load
																		.
																			dialog
																			FileName
														ShowDialog
								-
									MenuItem
									,
										Text="Exit"
										Click=,
											|,
												|-
													.
														form
														Close
	asdf=-
		.
			Application
			Run_Form
		form