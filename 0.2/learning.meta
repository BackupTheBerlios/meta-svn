|,
	&=-
		mergeAll
		+
			System
			mscorlib
			<"System.Windows.Forms"
	printNodes=,
		nodes|,
			data|-
				joinAll
				-
					apply
					data
					,
						entry|-
							joinAll
							-
								apply
								-
									enumerableToArray
									nodes
								,
									node|-
										.
											,
												0=,
													|0
												1=,
													|,
														value=.
															entry
															.
																node
																Text
														&=-
															join
															-
																.
																	,
																		0=,
																			|0
																		1=,
																			|-
																				join
																				value
																				"<br>"
																	-
																		isString
																		value
															-	
																printNodes
																.
																	node
																	Nodes
																value
											-
												and
												.
													node
													Checked
												-
													contains
													.
														node
														Text
													entry
	data=0
	getNodes=,
		data|,
			merged=-
				mergeAll
				data
			&=-
				apply
				-
					keys
					merged
				,
					key|-
						TreeNode
						,
							Text=key
							Checked=1
							Nodes=-
								getNodes
								-
									joinAll
									-
										apply
										data
										,
											map|-
												.
													,
														0=,
															|0
														1=,
															|-
																.
																	,
																		1=,
																			|0
																		0=,
																			|.
																				map
																				<key
																	-
																		isString
																		.
																			map
																			<key
													-
														contains
														key
														map
	load=,
		file|,
			data:-
				.
					/
					Meta
					Parser
					Parse_String
				file
			tree:-
				merge
				tree
				,
					Nodes=-
						getNodes
						data
			asdf=-
				loadText
	loadText=,
		|,
			browser:-
				merge
				browser
				,
					DocumentText=-
						printNodes
						.
							tree
							Nodes
						data
	tree=-
		TreeView
		,
			AfterCheck=,
				|,
					e|-
						loadText
			Dock=.
				DockStyle
				Left
			CheckBoxes=1
	browser=-
		WebBrowser
		,
			Dock=.
				DockStyle
				Fill
	form=-
		Form
		,
			Text="Learning"
			Controls=+
				browser				
				-
					Splitter
					,
						Dock=.
							DockStyle
							Left
				tree
			Load=,
				|,
					|+
						-
							load
							"D:\Meta\0.2\relativity.learn"
						-
							.
								form
								Close
			Menu=-
				<"MainMenu_MenuItem[]"
				+
					-
						MenuItem
						,
							Text="File"
							MenuItems=+
								-
									MenuItem
									,
										Text="Open..."
										Click=,
											|,
												|-
													.
														,
															&=-
																OpenFileDialog
															Filter="*.learn (Learning files)|*.learn"
															FileOk=,
																dialog|,
																	|-
																		load
																		.
																			dialog
																			FileName
														ShowDialog
								-
									MenuItem
									,
										Text="Exit"
										Click=,
											|,
												|-
													.
														form
														Close
	asdf=-
		.
			Application
			Run_Form
		form