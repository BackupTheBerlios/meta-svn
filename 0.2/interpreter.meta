(if (condition whatever)
	(
		(= then 
			(| 
				search
				(do whatever))))
do.something
. do something
. do something


do.something

(do arg)
.something


|
	expressions
		call
		select
		literal
		program
		search
			keyExpression|
				context|
					keyPosition expression.evaluate keyExpression context
					key keyPosition.Get 0
					search
						selected|*
							.
								/
									[0]
										|0
									[1]
										|*
											.
												/
													[1]
														|selected
													[0]
														|search .
															selected
															.
																/
																	[0] "Parent"
																	[1] "Scope"
																null selected.Scope
												hasKey selected key
								null selected
					search context
		search
			keyExpression|
				context|
					=
						keyPosition
						*
							*
								.
									expression
									evaluate
								keyExpression
						context
					=
						key
						*
							.
								keyPosition
								Get
							0
					=
						search
						
						selected|*
							.
								/
									=
										[1]
										
											|0
									=
										[0]
											
											|*
												.
													/
														[1]
															|selected
														[0]
															|search .
																selected
																.
																	/
																		[0] "Parent"
																		[1] "Scope"
																	*
																		null
																		.
																			selected
																			Scope
													*
														*
															hasKey
															selected
														key
								*
									null
									selected
					& *
						search
						context
		search
			keyExpression|
				context|
					keyPosition expression.evaluate keyExpression context
					key keyPosition.Get 0
					search
						selected|*
							.
								/
									[1]
										|0
									[0]
										|*
											.
												/
													[1]
														|selected
													[0]
														|search .
															selected
															.
																/
																	[0] "Parent"
																	[1] "Scope"
																*
																	null
																	.
																		selected
																		Scope
												*
													*
														hasKey
														selected
													key
								*
									null
									selected
					& *
						search
						context
		search
			keyExpression|
				context|
					keyPosition expression.evaluate keyExpression context
					key keyPosition.Get 0
					search
						selected|*
							.
								/
									[1]
										|0
									[0]
										|*
											.
												/
													[1]
														|selected
													[0]
														|search .
															selected
															.
																/
																	[0] "Parent"
																	[1] "Scope"
																*
																	null
																	.
																		selected
																		Scope
												*
													hasKey
													selected
													key
								*
									null
									selected
					& *
						search
						context
		search
			keyExpression|
				context|
					keyPosition expression.evaluate keyExpression context
					key keyPosition.Get 0
					search
						selected|*
							.
								/
									[1]
										|0
									[0]
										|*
											.
												/
													[1]
														|selected
													[0]
														|search .
															selected
															.
																/
																	[0] "Parent"
																	[1] "Scope"
																null selected.Scope
												hasKey selected key
								null selected
					& search context
		search
			keyExpression|
				context|
					keyPosition expression.evaluate keyExpression context
					key keyPosition.Get 0
					search
						selected|*
							.
								/
									[0]
										|0
									[1]
										|if (hasKey selected key)
											then
												|selected
											else
												|search .
													selected
													.
														/
															[0] "Parent"
															[1] "Scope"
														null selected.Scope
								null selected
							0
							
					search context
		search
			keyExpression|
				context|
					keyPosition expression.evaluate keyExpression context
					key keyPosition.Get 0
					search
						selected|if null selected
							then
								|0
							else
								|if (hasKey selected key)
									then
										|selected
									else
										|search .
											selected
											.
												/
													[0] "Parent"
													[1] "Scope"
												null selected.Scope
					search context
		lastArgument
			|
				|/.Meta.Call.LastArgument
		root
			|
				|/.Meta.RootPosition.rootPosition
	expression
		evaluate
			code|
				key (keys code).[1]
				& expressions.[key] code.[key]
					if (selection.Get().Scope != null)
					{
						selection = selection.Get().Scope;
					}
					else
					{
						selection = selection.Parent;
					}
				}
			}
			if (selection == null)
			{
				throw new KeyNotFound(key, keyExpression.Extent, null);
			}
			else
			{
				Position lastEvaluated = new Position(selection, key);
				return lastEvaluated;
			}
		}